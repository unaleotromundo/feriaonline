function updateAuthUI() {
    if (isMerchant && currentUser) {
        // Clear the container first
        authContainer.innerHTML = '';

        // Create dropdown elements
        const userDropdown = document.createElement('div');
        userDropdown.className = 'user-dropdown';
        userDropdown.innerHTML = `
            <div class="nav-link user-dropdown-toggle">
                <i class="fas fa-user-circle"></i>
                <span>Mi Cuenta</span>
            </div>
            <div class="dropdown-menu">
                <a href="#" onclick="showSection('profile')"><i class="fas fa-user"></i> Mi Perfil</a>
                <a href="#" onclick="showSection('my-store')"><i class="fas fa-store"></i> Mi Puesto</a>
                <div class="dropdown-divider"></div>
                <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
            </div>
        `;
        authContainer.appendChild(userDropdown);

        // Add dropdown functionality
        const dropdownToggle = userDropdown.querySelector('.user-dropdown-toggle');
        dropdownToggle.addEventListener('click', (e) => {
            e.preventDefault();
            userDropdown.classList.toggle('active-dropdown');
        });

        // Close dropdown on outside click
        document.addEventListener('click', (e) => {
            if (!userDropdown.contains(e.target)) {
                userDropdown.classList.remove('active-dropdown');
            }
        });

        // Enable merchant sections
        profileLink.style.display = 'flex';
        storeLink.style.display = 'flex';

    } else {
        authContainer.innerHTML = `
            <a href="#" class="nav-link" onclick="showLogin()">
                <i class="fas fa-sign-in-alt"></i>
                <span>Iniciar sesión</span>
            </a>
        `;

        // Hide merchant sections
        profileLink.style.display = 'none';
        storeLink.style.display = 'none';
    }
}